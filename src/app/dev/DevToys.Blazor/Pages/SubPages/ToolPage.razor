@namespace DevToys.Blazor.Pages.SubPages
@using DevToys.Blazor.Components.UIElements
@inherits MefComponentBase

<CascadingValue Value="this" IsFixed="true">
    <ScrollViewer Class="entrance-theme-transition tool-page">
        @RenderTool
    </ScrollViewer>
</CascadingValue>

@code {
    private RenderFragment RenderTool { get; set; } = default!;

    protected override Task OnInitializedAsync()
    {
        RenderTool = (__builder) =>
        {
            <Grid RowSpacing="12"
                  Rows="@(new List<GridLength>
                {
                    GridLength.Auto,
                    new GridLength(1, GridUnitType.Fraction)
                })">

                <GridCell Row="0">
                    <TextBlock Appearance="@TextBlockAppearance.Title"
                               Style="font-size: 24px !important"
                               Text="@ViewModel.HeaderText" />
                </GridCell>

                <GridCell Row="1">
                    <UIElementPresenter UIElement="@ViewModel.ToolView" />
                </GridCell>
            </Grid>
        };

        return base.OnInitializedAsync();
    }
}